<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How To · RemoteREPL.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RemoteREPL.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>How To</a><ul class="internal"><li><a class="tocitem" href="#Serve-a-REPL-from-a-remote-server"><span>Serve a REPL from a remote server</span></a></li><li><a class="tocitem" href="#Connect-to-a-REPL-on-a-remote-server"><span>Connect to a REPL on a remote server</span></a></li><li><a class="tocitem" href="#Plot-variables-from-the-server"><span>Plot variables from the server</span></a></li><li><a class="tocitem" href="#Use-stdout-with-println/dump,-etc"><span>Use <code>stdout</code> with <code>println</code>/<code>dump</code>, etc</span></a></li><li><a class="tocitem" href="#Include-a-remote-file"><span>Include a remote file</span></a></li><li><a class="tocitem" href="#Evaluate-commands-in-another-module"><span>Evaluate commands in another module</span></a></li><li><a class="tocitem" href="#Use-alternatives-to-SSH"><span>Use alternatives to SSH</span></a></li><li><a class="tocitem" href="#Use-in-Jupyter-or-Pluto"><span>Use in Jupyter or Pluto</span></a></li></ul></li><li><a class="tocitem" href="../reference/">Reference</a></li><li><a class="tocitem" href="../design/">Design</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>How To</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How To</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/c42f/RemoteREPL.jl/blob/master/docs/src/howto.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="How-To"><a class="docs-heading-anchor" href="#How-To">How-To</a><a id="How-To-1"></a><a class="docs-heading-anchor-permalink" href="#How-To" title="Permalink"></a></h1><h2 id="Serve-a-REPL-from-a-remote-server"><a class="docs-heading-anchor" href="#Serve-a-REPL-from-a-remote-server">Serve a REPL from a remote server</a><a id="Serve-a-REPL-from-a-remote-server-1"></a><a class="docs-heading-anchor-permalink" href="#Serve-a-REPL-from-a-remote-server" title="Permalink"></a></h2><ol><li>Run an ssh server on <code>your.example.host</code> and perform the usual ssh setup. (For example, add your public key to <code>~/.ssh/authorized_keys</code> on the server.)</li><li>Your Julia server should call <code>serve_repl()</code>. Use <code>@async serve_repl()</code> if you&#39;d like to run other server tasks concurrently.</li></ol><h2 id="Connect-to-a-REPL-on-a-remote-server"><a class="docs-heading-anchor" href="#Connect-to-a-REPL-on-a-remote-server">Connect to a REPL on a remote server</a><a id="Connect-to-a-REPL-on-a-remote-server-1"></a><a class="docs-heading-anchor-permalink" href="#Connect-to-a-REPL-on-a-remote-server" title="Permalink"></a></h2><ol><li>Set up passwordless ssh to your server. Usually this means you have <code>ssh-agent</code> running with your private key loaded. If you&#39;ve got some particular ssh options needed for the server, you&#39;ll find it convenient to set these up in the OpenSSH config file (<code>~/.ssh/config</code> on unix). For example,<pre><code class="language-ssh-config">Host your.example.host
   User ubuntu
   IdentityFile ~/.ssh/some_identity</code></pre></li><li>Start up Julia and run the code<pre><code class="language-julia">using RemoteREPL; connect_repl(&quot;your.example.host&quot;);</code></pre>Alternatively use the shell wrapper script <code>RemoteREPL/bin/julia-r</code>:<pre><code class="language-bash">julia-r your.example.host</code></pre></li></ol><h2 id="Plot-variables-from-the-server"><a class="docs-heading-anchor" href="#Plot-variables-from-the-server">Plot variables from the server</a><a id="Plot-variables-from-the-server-1"></a><a class="docs-heading-anchor-permalink" href="#Plot-variables-from-the-server" title="Permalink"></a></h2><p>The <a href="../reference/#RemoteREPL.@remote"><code>@remote</code></a> macro can be used to get variables from the server and plot them on the client with a single line of code. For example:</p><pre><code class="language-julia">julia@your.host&gt; x = 1:42; y = x.^2;

julia&gt; plot(@remote((x,y))...)</code></pre><h2 id="Use-stdout-with-println/dump,-etc"><a class="docs-heading-anchor" href="#Use-stdout-with-println/dump,-etc">Use <code>stdout</code> with <code>println</code>/<code>dump</code>, etc</a><a id="Use-stdout-with-println/dump,-etc-1"></a><a class="docs-heading-anchor-permalink" href="#Use-stdout-with-println/dump,-etc" title="Permalink"></a></h2><p>Lots of functions such as <code>print</code> write to the global <code>stdout</code> variable, but <code>RemoteREPL</code> doesn&#39;t capture this.</p><p>There&#39;s two ways to get a similar effect in <code>RemoteREPL</code>, both of which rely on passing an <code>IO</code> object explicitly to <code>println</code>/<code>dump</code>/etc.</p><p>One way is to use <code>@remote(stdout)</code> which creates a proxy of the client&#39;s <code>stdout</code> stream on the server which you can write to:</p><pre><code class="language-julia">julia@localhost&gt; dump(@remote(stdout), :(a + b))
Expr
  head: Symbol call
  args: Array{Any}((3,))
    1: Symbol +
    2: Symbol a
    3: Symbol b</code></pre><p>Another way is to use <code>sprint</code> to create the <code>IO</code> object and wrap the returned value in a <code>Text</code> object for display:</p><pre><code class="language-julia">julia@localhost&gt; Text(sprint(dump, :(a+b)))
Expr
  head: Symbol call
  args: Array{Any}((3,))
    1: Symbol +
    2: Symbol a
    3: Symbol b</code></pre><h2 id="Include-a-remote-file"><a class="docs-heading-anchor" href="#Include-a-remote-file">Include a remote file</a><a id="Include-a-remote-file-1"></a><a class="docs-heading-anchor-permalink" href="#Include-a-remote-file" title="Permalink"></a></h2><p>To include a Julia source file from the client into the current module on the remote side, use the <code>%include</code> REPL magic:</p><pre><code class="language-julia">julia@localhost&gt; %include some/file.jl</code></pre><p><code>%include</code> has tab completion for local paths on the client.</p><h2 id="Evaluate-commands-in-another-module"><a class="docs-heading-anchor" href="#Evaluate-commands-in-another-module">Evaluate commands in another module</a><a id="Evaluate-commands-in-another-module-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluate-commands-in-another-module" title="Permalink"></a></h2><p>If your server process has state in another module, you can tell RemoteREPL to evaluate all commands in that module. For example:</p><pre><code class="language-julia">julia@localhost&gt; module SomeMod
                    a_variable = 1
                 end
Main.SomeMod

julia@localhost&gt; a_variable
ERROR: UndefVarError: a_variable not defined
[...]

julia@localhost&gt; %module SomeMod
Evaluating commands in module Main.SomeMod

julia@localhost&gt; a_variable
1</code></pre><h2 id="Use-alternatives-to-SSH"><a class="docs-heading-anchor" href="#Use-alternatives-to-SSH">Use alternatives to SSH</a><a id="Use-alternatives-to-SSH-1"></a><a class="docs-heading-anchor-permalink" href="#Use-alternatives-to-SSH" title="Permalink"></a></h2><h3 id="AWS-Session-Manager"><a class="docs-heading-anchor" href="#AWS-Session-Manager">AWS Session Manager</a><a id="AWS-Session-Manager-1"></a><a class="docs-heading-anchor-permalink" href="#AWS-Session-Manager" title="Permalink"></a></h3><p>You can use <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager.html">AWS Session Manager</a> instead of SSH to connect to remote hosts. To do this, first setup Session Manager for the EC2 instances you like. See the <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-getting-started.html">docs</a>. Thereafter, install <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html">AWS CLI version 2</a> and then install the <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html">Session Manager plugin for AWS CLI</a> on your local system.</p><p>Setup your AWS CLI by running <code>aws configure</code> on the command line. You can then connect to the RemoteREPL server on your EC2 instance with <code>connect_repl(&quot;your-instance-id&quot;; tunnel=:aws, region=&quot;your-instance-region&quot;)</code>. The <code>region</code> argument is only required if the EC2 instance is not in the default region that your CLI was setup with.</p><h3 id="Kubernetes-kubectl"><a class="docs-heading-anchor" href="#Kubernetes-kubectl">Kubernetes <code>kubectl</code></a><a id="Kubernetes-kubectl-1"></a><a class="docs-heading-anchor-permalink" href="#Kubernetes-kubectl" title="Permalink"></a></h3><p>If <a href="https://kubernetes.io/docs/reference/kubectl/overview/">kubectl</a> is configured on your local system, you can use that to connect to RemoteREPL servers on your Kubernetes cluster. Run the following snippet: <code>connect_repl(&quot;your-pod-name&quot;; tunnel=:k8s, namespace=&quot;your-namespace&quot;)</code>. The <code>namespace</code> argument is only required if the Pod is not in the default Kubernetes namespace.</p><h2 id="Use-in-Jupyter-or-Pluto"><a class="docs-heading-anchor" href="#Use-in-Jupyter-or-Pluto">Use in Jupyter or Pluto</a><a id="Use-in-Jupyter-or-Pluto-1"></a><a class="docs-heading-anchor-permalink" href="#Use-in-Jupyter-or-Pluto" title="Permalink"></a></h2><p>In environments without any REPL integrations like Jupyter or Pluto notebooks you can use</p><pre><code class="language-julia">connect_remote();</code></pre><p>which will allow you to use <code>@remote</code> without the REPL mode.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 26 December 2022 07:32">Monday 26 December 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
